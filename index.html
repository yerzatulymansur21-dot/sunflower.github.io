<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SUNFLOWER — Sensorless Solar Tracker</title>

  <link rel="stylesheet" href="styles.css" />

  <!-- Chart.js (for climate chart) -->
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <!-- MathJax -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)']], displayMath: [['\\[','\\]']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>

<body>

<!-- ✅ HERO (CENTERED + NAV BUTTONS BACK) -->
<header class="hero" id="top">
  <div class="heroBg">
    <div class="heroBlob b1"></div>
    <div class="heroBlob b2"></div>
    <div class="heroBlob b3"></div>
    <div class="heroGlass"></div>
  </div>

  <div class="container heroInner">
    <div class="heroContent">

      <div class="brand heroBrand">
        <div class="logo">SF</div>
        <div class="brandText">
          <h1>SUNFLOWER</h1>
          <div class="subtitle">Sensorless Algorithm-Based Solar Tracking System</div>
          <div class="tagline">Higher yield · Lower maintenance · Reliable control</div>
        </div>
      </div>

      <div class="chips heroChips">
        <span class="chip">GitHub Pages Demo</span>
        <span class="chip">Chart.js climate chart</span>
        <span class="chip">MathJax formulas</span>
        <span class="chip">PV comparison</span>
      </div>

      <!-- ✅ MAIN NAV BUTTONS (RESTORED) -->
      <div class="heroActions heroNav">
        <a class="btn primary" href="#overview">Overview</a>
        <a class="btn" href="#climate">Why it matters</a>
        <a class="btn" href="#comparison">Comparison</a>
        <a class="btn" href="#sources">Sources</a>
        <a class="btn ghost" href="#formulas">Formulas</a>
        <a class="btn ghost" href="#error">Angular error</a>
        <a class="btn ghost" href="#physics">Physics</a>
        <a class="btn ghost" href="#costs">Prices</a>
        <a class="btn ghost" href="#calculator">Calculator</a>
      </div>

    </div>
  </div>
</header>


<main class="container">

  <!-- OVERVIEW -->
  <section id="overview" class="card">
  <h2>Overview</h2>

  <p>
    <b>SUNFLOWER</b> is a sensorless solar tracking system based on mathematical algorithms
    for determining the exact position of the Sun. Instead of using photodetectors,
    the system applies astronomical formulas based on location, date, and time
    to control panel orientation with high precision.
  </p>

  <p>
    The relevance of this research is connected with global climate change and the need
    to transition toward sustainable energy sources. Improving the efficiency and reliability
    of solar tracking systems contributes to reducing dependence on fossil fuels
    and increasing renewable energy production.
  </p>

  <p>
    Conventional dual-axis solar trackers usually rely on light sensors, which may produce
    significant errors under cloudy conditions, shading, dust accumulation, or sensor contamination.
    In contrast, algorithm-based trackers operate independently of external lighting conditions
    and determine the Sun’s position through embedded mathematical models.
  </p>

  <div class="grid2">

    <div class="mini">
      <h3>Research objective</h3>
      <p class="small">
        The main objective of this project is to develop and analyze a solar tracking algorithm
        based on NOAA astronomical models and to evaluate its performance in comparison
        with sensor-based tracking systems.
      </p>

      <p class="small">
        The system aims to improve tracking accuracy, reduce maintenance requirements,
        and ensure stable operation under varying environmental conditions.
      </p>
    </div>

    <div class="mini">
      <h3>Research findings</h3>

      <ul>
        <li>Algorithm-based tracking shows 10–15 times higher accuracy than sensor-based systems</li>
        <li>Average angular error is reduced to approximately 0.01°–0.03°</li>
        <li>Performance is independent of weather and lighting conditions</li>
        <li>Energy consumption is reduced due to fewer corrective movements</li>
        <li>Maintenance requirements are minimized</li>
        <li>System can operate at any geographic location worldwide</li>
      </ul>
    </div>

  </div>

  <div class="note">
    The developed approach integrates spherical trigonometry, harmonic analysis,
    and numerical methods to determine solar zenith and azimuth angles and to optimize
    motor positioning for maximum energy capture.
  </div>

</section>



  <!-- CLIMATE / WHY IT MATTERS -->
  <section id="climate" class="card">
    <h2>Why it matters (Climate & Energy)</h2>
    <p>
      Global temperature is rising, largely due to greenhouse gas emissions from fossil fuel combustion
      (coal, oil, gas). Increasing renewable energy efficiency is one way to reduce emissions.
    </p>

    <div class="grid2">
      <div class="mini">
        <h3>Temperature trend (example)</h3>
        <p class="small">
          Below is a demo climate chart. In the next step, we can replace demo values with NASA/NOAA dataset values.
        </p>

        <div class="chartBox">
          <canvas id="tempChartCanvas" height="140"></canvas>
        </div>

        <p class="small">
          Suggested sources for final data: NASA GISTEMP / NOAA global temperature anomaly datasets.
        </p>
      </div>

      <div class="mini">
        <h3>Why tracking helps</h3>
        <p class="small">
          Tracking increases solar energy yield per installed capacity. More yield → less fossil fuel needed
          for the same energy demand.
        </p>

        <div class="kpis">
          <div class="kpi">
            <div class="kpiNum">+20–30%</div>
            <div class="kpiLabel">Typical tracking gain</div>
          </div>
          <div class="kpi">
            <div class="kpiNum">↓</div>
            <div class="kpiLabel">Maintenance with sensorless control</div>
          </div>
        </div>
      </div>
    </div>
  </section>


    <!-- DEMO ANIMATION (3-system comparison) -->
  <section id="demo" class="card demoCard">
    <div class="demoHead">
      <div>
        <h2>Tracking Demo (Comparison)</h2>
        <p class="small">
          One-day simulation: fixed panel vs sensor-based tracker vs SUNFLOWER (algorithm).
          Use weather to show why algorithm-based tracking is more reliable.
        </p>
      </div>

      <div class="demoControls" aria-label="Demo controls">
        <label class="ctrl">
          Weather
          <select id="weatherSelect">
            <option value="sunny">Sunny</option>
            <option value="cloudy">Cloudy</option>
            <option value="dusty">Dusty (dirty sensor)</option>
          </select>
        </label>

        <label class="ctrl">
          Speed
          <input id="speedRange" type="range" min="6" max="24" step="1" value="12" />
          <span class="ctrlHint"><span id="speedVal">12</span>s/day</span>
        </label>

        <button id="togglePlay" class="btn primary" type="button">Pause</button>
        <button id="resetDemo" class="btn" type="button">Reset</button>
      </div>
    </div>

    <div class="demoWrap">
      <canvas id="trackerDemo" height="320"></canvas>
    </div>

    <div class="small demoLegend">
      <span class="legendDot d1"></span> Fixed panel
      <span class="legendDot d2"></span> Sensor-based tracker
      <span class="legendDot d3"></span> SUNFLOWER (algorithm)
    </div>
  </section>

  
  <!-- COMPARISON -->
  <section id="comparison" class="card">
    <h2>Comparison</h2>
    <p class="small">
      Comparison between a fixed PV system, a conventional sensor-based tracker, and SUNFLOWER.
      (Replace numbers with your final sources later.)
    </p>

    <table>
      <thead>
        <tr>
          <th>System</th>
          <th>Pros</th>
          <th>Cons</th>
          <th>Annual Energy (kWh/kWp·year)</th>
          <th>CAPEX (USD/kWp)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Fixed PV</td>
          <td>Simple, cheap</td>
          <td>Lower yield</td>
          <td>1350</td>
          <td>1200–1250</td>
        </tr>
        <tr>
          <td>Sensor-based tracker</td>
          <td>Higher yield</td>
          <td>Sensitive to dust/shading, maintenance</td>
          <td>1600</td>
          <td>1400–1500</td>
        </tr>
        <tr>
          <td><b>SUNFLOWER</b></td>
          <td><b>Higher yield + stable control</b></td>
          <td><b>Needs accurate time/location setup</b></td>
          <td><b>1700</b></td>
          <td><b>1350–1450</b></td>
        </tr>
      </tbody>
    </table>

    <div class="charts">
      <div class="chart">
        <h3>Energy Output (Bar Chart)</h3>
        <div id="energyBars" class="bars"></div>
      </div>

      <div class="chart">
        <h3>CAPEX Cost (Bar Chart)</h3>
        <div id="costBars" class="bars"></div>
      </div>
    </div>
  </section>


  <!-- SOURCES -->
  <section id="sources" class="card">
    <h2>Sources</h2>
    <ul>
      <li>NASA / NOAA global temperature datasets (climate trend)</li>
      <li>NOAA Solar Position / Solar calculations (math)</li>
      <li>NREL PVWatts and/or PVGIS (energy yield benchmarks)</li>
      <li>Berkeley Lab / IEA reports (cost benchmarks)</li>
      <li>DigiKey/Mouser datasheets (hardware BOM)</li>
    </ul>
  </section>


  <!-- FORMULAS (11 BUTTONS) -->
  <section id="formulas" class="card">
    <h2>Formulas (Exact Sun Position)</h2>
    <p class="small">
      Click a symbol to open: <b>definition</b>, <b>derivation/proof</b>, and the <b>final equation</b>.
    </p>

    <div class="formulaGrid11">

      <!-- Row 1 (4) -->
      <button class="formulaTile" data-formula="gamma" type="button">
        <div class="tileSymbol">γ</div>
        <div class="tileLabel">Fractional year</div>
      </button>

      <button class="formulaTile" data-formula="et" type="button">
        <div class="tileSymbol">ET</div>
        <div class="tileLabel">Equation of Time</div>
      </button>

      <button class="formulaTile" data-formula="delta" type="button">
        <div class="tileSymbol">δ</div>
        <div class="tileLabel">Solar declination</div>
      </button>

      <button class="formulaTile" data-formula="tf" type="button">
        <div class="tileSymbol">t<sub>f</sub></div>
        <div class="tileLabel">Time correction</div>
      </button>

      <!-- Row 2 (4) -->
      <button class="formulaTile" data-formula="tst" type="button">
        <div class="tileSymbol">t<sub>st</sub></div>
        <div class="tileLabel">True Solar Time</div>
      </button>

      <button class="formulaTile" data-formula="ha" type="button">
        <div class="tileSymbol">h<sub>a</sub></div>
        <div class="tileLabel">Hour angle</div>
      </button>

      <button class="formulaTile" data-formula="phi" type="button">
        <div class="tileSymbol">φ</div>
        <div class="tileLabel">Zenith angle</div>
      </button>

      <button class="formulaTile" data-formula="theta" type="button">
        <div class="tileSymbol">θ</div>
        <div class="tileLabel">Azimuth</div>
      </button>

      <!-- Row 3 (3) -->
      <button class="formulaTile" data-formula="sr" type="button">
        <div class="tileSymbol">S<sub>r,t</sub></div>
        <div class="tileLabel">Sunrise & Sunset</div>
      </button>

      <button class="formulaTile" data-formula="snoon" type="button">
        <div class="tileSymbol">S<sub>noon</sub></div>
        <div class="tileLabel">Solar noon</div>
      </button>

      <button class="formulaTile" data-formula="dalpha" type="button">
        <div class="tileSymbol">Δα</div>
        <div class="tileLabel">Angular error</div>
      </button>

    </div>

    <!-- Info panel (opens after click) -->
    <div id="formulaPanel" class="formulaPanel hidden">
      <div class="panelHead">
        <h3 id="panelTitle">—</h3>
        <button class="panelClose" id="panelClose" type="button" aria-label="Close">✕</button>
      </div>

      <div id="panelBody" class="panelBody">
        <!-- Filled by site.js -->
      </div>
    </div>
  </section>


  <!-- ANGULAR ERROR ANALYSIS -->
  <section id="error" class="card">
  <h2>Angular Error Analysis</h2>

  <p>
    One of the key performance indicators of a solar tracking system is its
    angular positioning accuracy. In this research, the angular error between
    the real Sun position and the panel orientation is evaluated using
    spherical trigonometry.
  </p>

  <h3>Angular Error Formula</h3>

  \[
  \Delta \theta =
  \arccos\Big(
  \sin(h_1)\sin(h_2)
  +
  \cos(h_1)\cos(h_2)\cos(A_1 - A_2)
  \Big)
  \]

  <p class="small">
    where:
  </p>

  <ul class="small">
    <li>\(h_1\) — solar elevation angle</li>
    <li>\(A_1\) — solar azimuth angle</li>
    <li>\(h_2\) — panel elevation angle</li>
    <li>\(A_2\) — panel azimuth angle</li>
  </ul>

  <p>
    This equation describes the angular distance between two directions
    in the celestial sphere and is derived from spherical trigonometry.
    It represents the deviation between the incoming solar rays and
    the normal vector of the panel surface.
  </p>

  <h3>Variation of Solar Coordinates</h3>

  \[
  h_1 \in [h_{1,\min}, h_{1,\max}], \quad
  A_1 \in [A_{1,\min}, A_{1,\max}]
  \]

  <p>
    The panel orientation is defined as:
  </p>

  \[
  h_2 = h_1 + \delta_h, \quad
  A_2 = A_1 + \delta_A
  \]

  <p class="small">
    where \(\delta_h\) and \(\delta_A\) represent mechanical and algorithmic
    errors caused by motor resolution, control delay, and system inertia.
  </p>

  <h3>Input Parameters</h3>

  <ul>
    <li>Latitude: 49.946° N</li>
    <li>Longitude: 82.604° E</li>
    <li>Date: October 20, 2025</li>
    <li>Time zone: UTC +5</li>
  </ul>

  <p>
    The time of observation strongly influences the angular error.
    Minimum error occurs near solar noon, while maximum error is observed
    in the morning and evening when the Sun is close to the horizon.
  </p>

  <h3>Motor and Control Accuracy</h3>

  \[
  \delta_h \approx \frac{0.9^\circ}{64} \approx 0.014^\circ \approx 0.01^\circ
  \]

  \[
  0.00417^\circ / \text{second}
  \]

  \[
  \delta_A \approx 0.017^\circ \approx 0.02^\circ
  \]

  <h3>Results</h3>

  <ul>
    <li>Minimum error: \( \Delta \theta_{\min} \approx 0.11^\circ \)</li>
    <li>Maximum error: \( \Delta \theta_{\max} \approx 0.29^\circ \)</li>
  </ul>

  <p>
    These results confirm that the proposed algorithm-based tracking system
    achieves high positioning accuracy and outperforms conventional
    sensor-based trackers.
  </p>

  </section>


  <!-- PHYSICS -->
  <section id="physics" class="card">
    <h2>Physics & Energy</h2>

    <h3>Annual energy estimate</h3>
    \[
      E = H \cdot PR
    \]

    <h3>Tracking gain</h3>
    \[
      E_{\text{tracker}} = E_{\text{fixed}}(1+g)
    \]

    <h3>Example gain</h3>
    \[
      \Delta E = 1700 - 1350 = 350\ \text{kWh/kWp·year}
    \]
    \[
      g = \frac{350}{1350} \approx 0.26 = 26\%
    \]
  </section>


  <!-- COSTS (AMAZON LINKS ONLY) -->
  <section id="costs" class="card">
    <h2>Prices & BOM</h2>

    <h3>SUNFLOWER Controller BOM (example)</h3>

    <table>
      <thead>
        <tr>
          <th>Component</th>
          <th>Qty</th>
          <th>Typical Price (USD)</th>
          <th>Amazon Link</th>
        </tr>
      </thead>

      <tbody>

        <tr>
          <td>ESP32 Microcontroller</td>
          <td>1</td>
          <td>10–12</td>
          <td class="small">
            <a href="https://www.amazon.com/dp/B0718T232Z" target="_blank" rel="noopener noreferrer">
              View on Amazon
            </a>
          </td>
        </tr>

        <tr>
          <td>RTC Module (DS3231)</td>
          <td>1</td>
          <td>10–25</td>
          <td class="small">
            <a href="https://www.amazon.com/dp/B00LX4IMPC" target="_blank" rel="noopener noreferrer">
              View on Amazon
            </a>
          </td>
        </tr>

        <tr>
          <td>Motor Driver (L298N)</td>
          <td>1</td>
          <td>8–20</td>
          <td class="small">
            <a href="https://www.amazon.com/dp/B00CAG0HGS" target="_blank" rel="noopener noreferrer">
              View on Amazon
            </a>
          </td>
        </tr>

        <tr>
          <td>Waterproof Enclosure (IP65)</td>
          <td>1</td>
          <td>5–15</td>
          <td class="small">
            <a href="https://www.amazon.com/dp/B07Z3S4M6Y" target="_blank" rel="noopener noreferrer">
              View on Amazon
            </a>
          </td>
        </tr>

        <tr>
          <td>Wiring Kit</td>
          <td>1</td>
          <td>3–6</td>
          <td class="small">
            <a href="https://www.amazon.com/dp/B01EV70C78" target="_blank" rel="noopener noreferrer">
              View on Amazon
            </a>
          </td>
        </tr>

      </tbody>
    </table>

  </section>

    <!-- WEB CALCULATOR -->
  <section id="calculator" class="card">
    <h2>Web Calculator (Sun Position)</h2>
    <p class="small">
      Enter date/time and coordinates to compute Equation of Time, declination, time correction,
      true solar time, hour angle, zenith, azimuth, altitude, and solar noon.
    </p>

    <div class="calcGrid">
      <div class="calcForm">

        <label class="calcLabel">
          Date
          <input class="calcInput" type="date" id="dateInput">
        </label>

        <label class="calcLabel">
          Time (HH:MM)
          <input class="calcInput" type="time" id="timeInput">
        </label>

        <label class="calcLabel">
          Latitude (e.g., 49.946)
          <input class="calcInput" type="number" id="latInput" step="0.0001" placeholder="49.946">
        </label>

        <label class="calcLabel">
          Longitude (e.g., 82.604)
          <input class="calcInput" type="number" id="lonInput" step="0.0001" placeholder="82.604">
        </label>

        <label class="calcLabel">
          Time zone (UTC, e.g., +5)
          <input class="calcInput" type="number" id="tzInput" step="0.5" placeholder="5">
        </label>

        <div class="calcBtns">
          <button class="btn primary" type="button" id="calcBtn">Calculate</button>
          <button class="btn" type="button" id="calcFillBtn">Use Ust-Kamenogorsk (demo)</button>
        </div>

        <div class="small calcHint">
          Tip: timezone is the standard UTC offset (e.g., Kazakhstan is often UTC+5 or UTC+6 depending on region).
        </div>

      </div>

      <div class="calcOut">
        <h3 class="calcH3">Results</h3>
        <pre class="calcPre" id="result">—</pre>

        <h3 class="calcH3">Solar altitude over the day</h3>
        <div class="chartBox">
          <canvas id="altChartCanvas" height="170"></canvas>
        </div>
      </div>
    </div>
  </section>

</main>


<footer>
  <div class="container">
    <div class="small">© SUNFLOWER — GitHub Pages Website</div>
  </div>
</footer>

<script src="site.js" defer></script>
</body>
</html>
